{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAQF,SAASC,cAAc,SAC/BE,EAAUH,SAASC,cAAc,YAEnCG,EAAW,GAKf,SAASC,EAAWC,GAClB,IAAMC,EAAOC,KAAKC,UAAUL,GAC1B,GAAGG,EAEJ,OAAOG,aAAaC,QAAQL,EAAIC,GAPnCR,EAAKa,iBAAiB,SAwCtB,SAAoBC,GAClB,IAEmBC,EAAfD,EAAEE,cADJC,SAAYC,EAAKH,EAALG,MAAOC,EAAOJ,EAAPI,SAGjBD,EAAME,OAASD,EAAQC,SACzBf,EAAW,CACTa,MAAOA,EAAME,MACbD,QAASA,EAAQC,OAGnBC,EAAAvB,EAAA,CAASQ,EAAY,IAArB,CAA0B,sBAAuBD,OAlDrDL,EAAKa,iBAAiB,UAgCtB,SAAsBC,GACpBA,EAAEQ,iBACFX,aAAaY,WAAW,uBACxBvB,EAAKwB,QACLC,QAAQC,IAAIrB,MAfd,IAX8BE,EACpBC,EAUJmB,GAXwBpB,EAWmB,sBARlC,QAFLC,EAAOG,aAAaiB,QAAQrB,SAGnC,EAGIE,KAAKoB,MAAMrB,IAMdmB,GACFxB,EAAMiB,MAAQO,EAAoBT,MAClCd,EAAQgB,MAAQO,EAAoBR,QACpCd,EAAWsB,IAEXxB,EAAMiB,MAAQ,GACdhB,EAAQgB,MAAQ","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst email = document.querySelector('input');\nconst message = document.querySelector('textarea');\n\nlet formData = {};\n\nform.addEventListener('input', inputValue);\nform.addEventListener('submit', onSubmitForm);\n\nfunction onFormData(el) {\n  const data = JSON.stringify(formData);\n    if(data) {\n    \n   return localStorage.setItem(el, data);\n  } \n};\n\nfunction dataFromLocalStorage(el) {\n    const data = localStorage.getItem(el);\n\n  if (data === null) {\n   return el = undefined;\n    \n  } else {\nreturn JSON.parse(data);\n  }\n};\n\nconst objFromLocalStorage = dataFromLocalStorage('feedback-form-state');\n\nif (objFromLocalStorage) {\n  email.value = objFromLocalStorage.email;\n  message.value = objFromLocalStorage.message;\n  formData = objFromLocalStorage;\n} else {\n  email.value = '';\n  message.value = '';\n}\n\nfunction onSubmitForm(e) {\n  e.preventDefault();\n  localStorage.removeItem('feedback-form-state');\n  form.reset();\n  console.log(formData);\n};\n\nfunction inputValue(e) {\n  const {\n    elements: { email, message },\n  } = e.currentTarget;\n\n  if (email.value || message.value) {\n    formData = {\n      email: email.value,\n      message: message.value,\n    };\n\n    throttle(onFormData, 500)('feedback-form-state', formData);\n  }\n};\n\n"],"names":["$dCfNN","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$email","$b00c40859be242c5$var$message","$b00c40859be242c5$var$formData","$b00c40859be242c5$var$onFormData","el","data","JSON","stringify","localStorage","setItem","addEventListener","e","_elements","currentTarget","elements","email","message","value","$parcel$interopDefault","preventDefault","removeItem","reset","console","log","$b00c40859be242c5$var$objFromLocalStorage","getItem","parse"],"version":3,"file":"03-feedback.29fcb6d0.js.map"}